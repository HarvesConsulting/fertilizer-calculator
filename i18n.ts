
export type Language = 'en' | 'uk' | 'es' | 'pt' | 'fr' | 'kk' | 'sw';

const translations = {
  en: {
    // App
    appTitle: "Agrochemical Fertilizer Calculator",
    headerTitle: "Agrochemical Calculator",
    headerSubtitleCalc: "Nutrient requirement calculation for vegetable crops",
    headerSubtitleReports: "Saved Reports",
    headerSubtitleLanding: "Multifunctional agronomist tool",
    reports: "Reports",
    calculator: "Calculator",
    footerText: "© {year} Agrochemical Calculator. All rights reserved.",
    changeLogoTooltip: "Click to change logo",
    resetLogoTooltip: "Remove custom logo",
    resetLogoConfirm: "Are you sure you want to remove the custom logo and revert to the default?",
    viewReportsAria: "View saved reports",
    goToCalculatorAria: "Go to calculator",
    // Landing Page
    landingTitle: "Welcome!",
    landingDescription: "Choose your mode: create a single detailed calculation for a specific field, or manage multiple analyses simultaneously for comparison.",
    singleAnalysis: "Single Analysis",
    groupAnalysis: "Group Analysis",
    // Stepper
    step1: "Soil Analysis",
    step2: "Crop",
    step3: "Choice",
    step4: "Result",
    step3Group: "Results",
    // Step 1
    step1Title: "Step 1: Enter Soil Analysis Data",
    nitrogenAnalysisLabel: "Nitrate Nitrogen",
    phosphorusLabel: "Phosphorus (P₂O₅)",
    potassiumLabel: "Potassium (K₂O)",
    calciumLabel: "Calcium (CaO)",
    magnesiumLabel: "Magnesium (MgO)",
    phLabel: "Acidity (pH)",
    cecLabel: "Cation Exchange Capacity (CEC)",
    cecTooltip: "Cation Exchange Capacity (CEC) is the soil's ability to hold nutrients (cations) like Calcium, Magnesium, and Potassium, protecting them from leaching. Higher CEC means the soil can store more nutrients.",
    backButton: "Back",
    nextButton: "Next",
    dataActionsButton: "Data Actions",
    loadDataAction: "Load Saved",
    saveDataAction: "Remember Inputs",
    rememberAnalysis: "Remember Analysis",
    dataSavedSuccess: "Soil analysis data saved!",
    dataSaveError: "Failed to save data.",
    dataLoadedSuccess: "Saved data loaded.",
    dataLoadInvalid: "Saved data is corrupt or in the wrong format.",
    dataNotFound: "No saved data found.",
    dataLoadError: "Failed to load data.",
    // Step 2
    step2Title: "Step 2: Select Crop, Yield, and Area",
    fieldNameLabel: "Field Name",
    sowingDateLabel: "Sowing (Planting) Date",
    cultureLabel: "Crop",
    culturePlaceholder: "Select a crop",
    plannedYieldLabel: "Planned Yield",
    fieldAreaLabel: "Field Area",
    calculateButton: "Calculate",
    calculateAllButton: "Calculate All",
    calculateDisabledTooltip: "Fill in crop and yield for all analyses",
    // Step 3
    step3Title: "Step 3: Choose Calculation Type",
    basicApplicationTitle: "Basic Application",
    basicApplicationDesc: "Calculation of fertilizer needs for basic application.",
    fertigationProgramTitle: "Fertigation Program",
    fertigationProgramDesc: "A detailed weekly plan for fertilizer application through drip irrigation.",
    fullProgramTitle: "Comprehensive Program",
    fullProgramDesc: "Show both basic application and the fertigation program together.",
    // Step 4
    resultsTitle: 'Calculation Results for "{cultureName}"',
    saveReportButton: "Save Report",
    saveToHistory: "Save to History",
    saveToHistorySuccess: "Report saved to history!",
    saveTxtAction: "Save as TXT",
    saveJsonAction: "Save Report (JSON)",
    saveAllTxtAction: "Save All (TXT)",
    saveAllJsonAction: "Save All (JSON)",
    saveCurrentTxtAction: "Save Current (TXT)",
    recordButton: "Record",
    recordedButton: "Recorded",
    saveXlsxButton: "Save ({count}) to XLSX",
    continueButton: "Continue",
    newCalculationButton: "New Calculation",
    // Basic Application
    basicApplicationHeader: "Basic Application",
    basicApplicationNotNeeded: "Basic application is not required based on calculations.",
    composition: "Composition",
    complexFertilizer: "Complex Autumn Fertilizer",
    springFertilizer: "Spring (Starter) Fertilizer",
    addComplexFertilizer: "Add complex autumn fertilizer",
    addComplexFertilizerDesc: "Enter the composition to automatically calculate the rate and adjust needs.",
    complexFertilizerHeader: "Composition and Rate of Complex Fertilizer",
    nitroammophoskaButton: "Nitroammophoska",
    chickenManureButton: "Chicken Manure",
    complexFertilizerRateLabel: "Application Rate (calculated)",
    totalForArea: "Total for area:",
    remainingNeed: "Remaining Need",
    need: "Need",
    fertilizerLabel: "Fertilizer",
    amendmentLabel: "Amendment",
    applicationRate: "Application Rate (phys. weight)",
    totalLabel: "Total:",
    chooseFertilizer: "choose fertilizer",
    chooseAmendment: "choose amendment",
    element: "Element",
    amendmentTooltip: "For soil pH 6.8 or lower, applying amendments (lime, defecate) is recommended to de-acidify and improve nutrient availability for plants.",
    // Fertigation
    fertigationProgramHeader: "Fertigation Program",
    fertigationNotNeeded: "Fertigation is not required based on calculations.",
    noScheduleWarningTitle: "Warning",
    noScheduleWarningText: 'A typical fertigation schedule was not found for the crop "{culture}".',
    addSpringFertilizer: "Calculate complex starter fertilizer",
    addSpringFertilizerDesc: "Enter the composition to calculate the rate of spring fertilizer.",
    springFertilizerHeader: "Composition and Rate of Starter Fertilizer",
    yaraMilaButton: "YaraMila CROPCARE",
    rosafertButton: "ROSAFERT 12-12-17",
    diammophoskaButton: "Diammophoska 9-25-25",
    autoCalculateButton: "Auto-calculate",
    autoCalculateTooltip: "Click to revert to the automatically calculated rate based on fertilizer composition and crop needs.",
    springFertilizerRateTooltip: "The rate is automatically calculated to cover 50% of the potassium (K₂O) need at the initial growth stages, which is key for root system development and overall plant resilience. You can adjust this value manually.",
    nitrogenFertilizerChoiceHeader: "Nitrogen Fertilizer Choice for Fertigation",
    nitrogenFertilizerLabel: "Nitrogen Fertilizer",
    ammoniumNitrate: "Ammonium Nitrate",
    urea: "Urea",
    weeklyPlanHeader: "Weekly Fertilizer Application Plan (physical weight, kg/ha)",
    compatibilityTableButton: "Compatibility Table",
    totalForSeasonHeader: "Total Amount per Season",
    // Chart
    chartYAxisLabel: "kg/ha",
    chartXAxisLabel: "Week / Date Range",
    chartWeekLabel: "Week",
    // Reports List
    noReportsTitle: "No Saved Reports",
    noReportsDesc: "Create your first calculation or load an existing report.",
    startNewCalculation: "Start New Calculation",
    loadReport: "Load Report",
    myReports: "My Reports",
    loadButton: "Load",
    yieldLabel: "Yield",
    areaLabel: "Area",
    savedOn: "Saved",
    viewButton: "View",
    deleteButton: "Delete report",
    deleteConfirm: "Are you sure you want to delete this report?",
    reportLoadSuccessMultiple: "{count} new report(s) loaded. {skipped} were skipped as they already exist.",
    reportLoadSuccessOne: "Report loaded successfully.",
    reportLoadSkippedAll: "All reports from this file already exist in the list.",
    reportLoadError: "Failed to load report. The file may be damaged or in the wrong format.",
    reportLoadFileError: "Failed to read file.",
    // Report Detail
    reportFor: 'Report for "{culture}"',
    backToList: "Back to Reports List",
    savedAt: "Saved",
    inputData: "Input Data",
    soilAnalysis: "Soil Analysis",
    // Compatibility Modal
    compatibilityModalTitle: "Fertilizer Compatibility Table",
    compatibilityModalClose: "Close modal",
    compatibilityModalDesc: "The table shows the possibility of mixing fertilizers in one tank solution. Incompatible fertilizers should be applied separately to avoid precipitation and clogging of the drip irrigation system.",
    closeButton: "Got it",
    // Error
    calculationError: "Calculation Error",
    calculationErrorDesc: "Could not perform calculation for this analysis. Please check the input data.",
    // Group analysis
    analysisTab: "Analysis #{index}",
    addAnalysis: "Add",
    addAnalysisTooltip: "Add new analysis",
    // Save report
    reportSaveError: "No data to save the report.",
    // Save Confirmation Modal
    saveModalTitle: "Confirm Save",
    saveModalDesc: "Select the analyses you want to include in the XLSX file.",
    saveModalSelectAll: "Select All",
    saveModalDeselectAll: "Deselect All",
    saveModalConfirmButton: "Save Selected ({count})",
    saveModalCancelButton: "Cancel",
    // XLSX Export
    summarySheet: "Summary & Procurement",
    detailsSheet: "Calculation Details",
    preSeasonFertilizersHeader: "Pre-season Fertilizers (Basic, Starter)",
    fertilizerNameHeader: "Fertilizer Name",
    totalNeededKgHeader: "Total Needed, kg",
    monthlyNeedsHeader: "Monthly Fertigation Needs, kg",
    basicApplicationSection: "1. Basic Application",
    fertigationProgramSection: "2. Fertigation Program",
    fertilizerTypeHeader: "Type of Fertilizer",
    fertilizerNameCompositionHeader: "Name / Composition",
    // Added week key to fix reportGenerator.ts error
    week: "Week",
    dateRangeHeader: "Date Range",
    phosphoricAcid: "Orthophosphoric Acid",
    potassiumSulfate: "Potassium Sulfate",
    calciumNitrate: "Calcium Nitrate",
    magnesiumSulfate: "Magnesium Sulfate",
    month_0: "January", month_1: "February", month_2: "March", month_3: "April",
    month_4: "May", month_5: "June", month_6: "July", month_7: "August",
    month_8: "September", month_9: "October", month_10: "November", month_11: "December",
  },
  uk: {
    // App
    appTitle: "Агрохімічний калькулятор добрив",
    headerTitle: "Агрохімічний калькулятор",
    headerSubtitleCalc: "Розрахунок потреб у живленні для овочевих культур",
    headerSubtitleReports: "Збережені звіти",
    headerSubtitleLanding: "Багатофункціональний інструмент агронома",
    reports: "Звіти",
    calculator: "Калькулятор",
    footerText: "© {year} Агрохімічний калькулятор. Всі права захищено.",
    changeLogoTooltip: "Натисніть, щоб змінити логотип",
    resetLogoTooltip: "Видалити власний логотип",
    resetLogoConfirm: "Ви впевнені, що хочете видалити власний логотип і повернути стандартний?",
    viewReportsAria: "Переглянути збережені звіти",
    goToCalculatorAria: "Перейти до калькулятора",
    // Landing Page
    landingTitle: "Вітаємо!",
    landingDescription: "Оберіть режим роботи: створіть один детальний розрахунок для конкретного поля або керуйте кількома аналізами одночасно для порівняння.",
    singleAnalysis: "Один аналіз",
    groupAnalysis: "Груповий аналіз",
    // Stepper
    step1: "Аналіз ґрунту",
    step2: "Культура",
    step3: "Вибір",
    step4: "Результат",
    step3Group: "Результати",
    // Step 1
    step1Title: "Крок 1: Введіть дані аналізу ґрунту",
    nitrogenAnalysisLabel: "Нітратний азот",
    phosphorusLabel: "Фосфор (P₂O₅)",
    potassiumLabel: "Калій (K₂O)",
    calciumLabel: "Кальцій (CaO)",
    magnesiumLabel: "Магній (MgO)",
    phLabel: "Кислотність (pH)",
    cecLabel: "Ємність катіонного обміну (ЄКО)",
    cecTooltip: "Ємність катіонного обміну (ЄКО) — це здатність ґрунту утримувати поживні речовини (катіони), такі як Кальцій, Магній та Калій, захищаючи їх від вимивання. Висока ЄКО означає, що ґрунт може зберігати більше поживних речовин.",
    backButton: "Назад",
    nextButton: "Далі",
    dataActionsButton: "Дії з даними",
    loadDataAction: "Завантажити збережені",
    saveDataAction: "Запам'ятати введення",
    rememberAnalysis: "Запам'ятати аналіз",
    dataSavedSuccess: "Дані аналізу ґрунту збережено!",
    dataSaveError: "Не вдалося зберегти дані.",
    dataLoadedSuccess: "Збережені дані завантажено.",
    dataLoadInvalid: "Збережені дані пошкоджено або мають неправильний формат.",
    dataNotFound: "Збережені дані не знайдено.",
    dataLoadError: "Не вдалося завантажити дані.",
    // Step 2
    step2Title: "Крок 2: Оберіть культуру, врожайність та площу",
    fieldNameLabel: "Назва поля",
    sowingDateLabel: "Дата посіву (посадки)",
    cultureLabel: "Культура",
    culturePlaceholder: "Оберіть культуру",
    plannedYieldLabel: "Планована врожайність",
    fieldAreaLabel: "Площа поля",
    calculateButton: "Розрахувати",
    calculateAllButton: "Розрахувати все",
    calculateDisabledTooltip: "Заповніть культуру та врожайність для всіх аналізів",
    // Step 3
    step3Title: "Крок 3: Вибір розрахунку",
    basicApplicationTitle: "Основне внесення",
    basicApplicationDesc: "Розрахунок потреби в добривах для основного внесення.",
    fertigationProgramTitle: "Програма фертигації",
    fertigationProgramDesc: "Детальний потижневий план внесення добрив через краплинне зрошення.",
    fullProgramTitle: "Комплексна програма",
    fullProgramDesc: "Показати основне внесення та програму фертигації разом.",
    // Step 4
    resultsTitle: 'Результати розрахунку для "{cultureName}"',
    saveReportButton: "Зберегти звіт",
    saveToHistory: "Зберегти в історію",
    saveToHistorySuccess: "Звіт збережено в історію!",
    saveTxtAction: "Зберегти в TXT",
    saveJsonAction: "Зберегти звіт (JSON)",
    saveAllTxtAction: "Зберегти все (TXT)",
    saveAllJsonAction: "Зберегти все (JSON)",
    saveCurrentTxtAction: "Зберегти поточний (TXT)",
    recordButton: "Записати",
    recordedButton: "Записано",
    saveXlsxButton: "Зберегти ({count}) в XLSX",
    continueButton: "Продовжити",
    newCalculationButton: "Новий розрахунок",
    // Basic Application
    basicApplicationHeader: "Основне внесення",
    basicApplicationNotNeeded: "Основне внесення не потрібне на основі розрахунків.",
    composition: "Склад",
    complexFertilizer: "Комплексне осіннє добриво",
    springFertilizer: "Весняне (стартове) добриво",
    addComplexFertilizer: "Додати комплексне осіннє добриво",
    addComplexFertilizerDesc: "Внесіть склад для автоматичного розрахунку норми та перерахунку потреби.",
    complexFertilizerHeader: "Склад та норма комплексного добрива",
    nitroammophoskaButton: "Нітроамофоска",
    chickenManureButton: "Курячий послід",
    complexFertilizerRateLabel: "Норма внесення (розрахована)",
    totalForArea: "Всього на площу:",
    remainingNeed: "Залишкова потреба",
    need: "Потреба",
    fertilizerLabel: "Добриво",
    amendmentLabel: "Меліорант",
    applicationRate: "Норма внесення (фіз. вага)",
    totalLabel: "Всього:",
    chooseFertilizer: "оберіть добриво",
    chooseAmendment: "оберіть меліорант",
    element: "Елемент",
    amendmentTooltip: "При pH ґрунту 6.8 або нижче рекомендується внесення меліорантів (вапно, дефекат) для розкислення та покращення доступності елементів живлення для рослин.",
    // Fertigation
    fertigationProgramHeader: "Програма фертигації",
    fertigationNotNeeded: "Фертигація не потрібна на основі розрахунків.",
    noScheduleWarningTitle: "Увага",
    noScheduleWarningText: 'Для культури "{culture}" не знайдено типового графіка фертигації.',
    addSpringFertilizer: "Розрахувати комплексне стартове добриво",
    addSpringFertilizerDesc: "Внесіть склад для розрахунку норми весняного добрива.",
    springFertilizerHeader: "Склад та норма стартового добрива",
    yaraMilaButton: "YaraMila CROPCARE",
    rosafertButton: "ROSAFERT 12-12-17",
    diammophoskaButton: "Діамофоска 9-25-25",
    autoCalculateButton: "Розрахувати авто",
    autoCalculateTooltip: "Натисніть, щоб повернутися до автоматично розрахованої норми на основі складу добрива та потреб культури.",
    springFertilizerRateTooltip: "Норма розраховується автоматично для покриття 50% потреби в калії (K₂O) на початкових етапах росту, що є ключовим для розвитку кореневої системи та загальної стійкості рослини. Ви можете відкоригувати це значення вручну.",
    nitrogenFertilizerChoiceHeader: "Вибір азотного добрива для фертигації",
    nitrogenFertilizerLabel: "Азотне добриво",
    ammoniumNitrate: "Аміачна селітра",
    urea: "Карбамід",
    weeklyPlanHeader: "Потижневий план внесення добрив (фізична вага, кг/га)",
    compatibilityTableButton: "Таблиця сумісності",
    totalForSeasonHeader: "Загальна кількість за сезон",
    // Chart
    chartYAxisLabel: "кг/га",
    chartXAxisLabel: "Тиждень / Діапазон дат",
    chartWeekLabel: "Тиждень",
    // Reports List
    noReportsTitle: "Збережених звітів немає",
    noReportsDesc: "Створіть свій перший розрахунок або завантажте існуючий звіт.",
    startNewCalculation: "Почати новий розрахунок",
    loadReport: "Завантажити звіт",
    myReports: "Мої звіти",
    loadButton: "Завантажити",
    yieldLabel: "Врожайність",
    areaLabel: "Площа",
    savedOn: "Збережено",
    viewButton: "Переглянути",
    deleteButton: "Видалити звіт",
    deleteConfirm: "Ви впевнені, що хочете видалити цей звіт?",
    reportLoadSuccessMultiple: "{count} нових звіт(ів) завантажено. {skipped} було пропущено, оскільки вони вже існують.",
    reportLoadSuccessOne: "Звіт успішно завантажено.",
    reportLoadSkippedAll: "Всі звіти з цього файлу вже існують у списку.",
    reportLoadError: "Не вдалося завантажити звіт. Файл пошкоджено або має неправильний формат.",
    reportLoadFileError: "Не вдалося прочитати файл.",
    // Report Detail
    reportFor: 'Звіт для "{culture}"',
    backToList: "До списку звітів",
    savedAt: "Збережено",
    inputData: "Вхідні дані",
    soilAnalysis: "Аналіз ґрунту",
    // Compatibility Modal
    compatibilityModalTitle: "Таблиця сумісності добрив",
    compatibilityModalClose: "Закрити модальне вікно",
    compatibilityModalDesc: "Таблиця показує можливість змішування добрив в одному баковому розчині. Несумісні добрива слід вносити окремо, щоб уникнути випадання осаду та засмічення системи краплинного зрошення.",
    closeButton: "Зрозуміло",
    // Error
    calculationError: "Помилка розрахунку",
    calculationErrorDesc: "Не вдалося виконати розрахунок для цього аналізу. Будь ласка, перевірте вхідні дані.",
    // Group analysis
    analysisTab: "Аналіз #{index}",
    addAnalysis: "Додати",
    addAnalysisTooltip: "Додати новий аналіз",
    // Save report
    reportSaveError: "Немає даних для збереження звіту.",
    // Save Confirmation Modal
    saveModalTitle: "Підтвердити збереження",
    saveModalDesc: "Оберіть аналізи, які потрібно включити до файлу XLSX.",
    saveModalSelectAll: "Вибрати всі",
    saveModalDeselectAll: "Зняти вибір з усіх",
    saveModalConfirmButton: "Зберегти обрані ({count})",
    saveModalCancelButton: "Скасувати",
    // XLSX Export
    summarySheet: "Зведений план",
    detailsSheet: "Детальні розрахунки",
    preSeasonFertilizersHeader: "Добрива для основного та стартового внесення",
    fertilizerNameHeader: "Назва добрива",
    totalNeededKgHeader: "Загальна потреба, кг",
    monthlyNeedsHeader: "Помісячна потреба для фертигації, кг",
    basicApplicationSection: "1. Основне внесення",
    fertigationProgramSection: "2. Програма фертигації",
    fertilizerTypeHeader: "Тип добрива",
    fertilizerNameCompositionHeader: "Назва / Склад",
    // Added week key to fix reportGenerator.ts error
    week: "Тиждень",
    dateRangeHeader: "Діапазон дат",
    phosphoricAcid: "Ортофосфорна к-та",
    potassiumSulfate: "Сульфат калію",
    calciumNitrate: "Нітрат каліцію",
    magnesiumSulfate: "Сульфат магнію",
    month_0: "Січень", month_1: "Лютий", month_2: "Березень", month_3: "Квітень",
    month_4: "Травень", month_5: "Червень", month_6: "Липень", month_7: "Серпень",
    month_8: "Вересень", month_9: "Жовтень", month_10: "Листопад", month_11: "Грудень",
  },
  es: {
    appTitle: "Calculadora Agroquímica de Fertilizantes",
    headerTitle: "Calculadora Agroquímica",
    headerSubtitleCalc: "Cálculo de necesidades de nutrientes para cultivos de hortalizas",
    headerSubtitleReports: "Informes Guardados",
    headerSubtitleLanding: "Herramienta multifuncional para agrónomos",
    reports: "Informes",
    calculator: "Calculadora",
    footerText: "© {year} Calculadora Agroquímica. Todos los derechos reservados.",
    changeLogoTooltip: "Haga clic para cambiar el logotipo",
    resetLogoTooltip: "Eliminar logotipo personalizado",
    resetLogoConfirm: "¿Está seguro de que desea eliminar el logotipo personalizado y volver al predeterminado?",
    viewReportsAria: "Ver informes guardados",
    goToCalculatorAria: "Ir a la calculadora",
    landingTitle: "¡Bienvenido!",
    landingDescription: "Elija su modo: cree un único cálculo detallado para un campo específico o gestione múltiples análisis simultáneamente para comparar.",
    singleAnalysis: "Análisis Único",
    groupAnalysis: "Análisis de Grupo",
    step1: "Análisis de Suelo",
    step2: "Cultivo",
    step3: "Elección",
    step4: "Resultado",
    step3Group: "Resultados",
    step1Title: "Paso 1: Introduzca los Datos del Análisis de Suelo",
    nitrogenAnalysisLabel: "Nitrógeno Nítrico",
    phosphorusLabel: "Fósforo (P₂O₅)",
    potassiumLabel: "Potasio (K₂O)",
    calciumLabel: "Calcio (CaO)",
    magnesiumLabel: "Magnesio (MgO)",
    phLabel: "Acidez (pH)",
    cecLabel: "Capacidad de Intercambio Catiónico (CIC)",
    cecTooltip: "La Capacidad de Intercambio Catiónico (CIC) es la capacidad del suelo para retener nutrientes (cationes) como Calcio, Magnesio y Potasio, protegiéndolos de la lixiviación. Una CIC más alta significa que el suelo puede almacenar más nutrientes.",
    backButton: "Atrás",
    nextButton: "Siguiente",
    dataActionsButton: "Acciones de Datos",
    loadDataAction: "Cargar Guardados",
    saveDataAction: "Recordar Entradas",
    rememberAnalysis: "Recordar Análisis",
    dataSavedSuccess: "¡Datos de análisis de suelo guardados!",
    dataSaveError: "Error al guardar los datos.",
    dataLoadedSuccess: "Datos guardados cargados.",
    dataLoadInvalid: "Los datos guardados están corruptos o en el formato correcto.",
    dataNotFound: "No se encontraron datos guardados.",
    dataLoadError: "Error al cargar los datos.",
    step2Title: "Paso 2: Seleccione Cultivo, Rendimiento y Área",
    fieldNameLabel: "Nombre del Campo",
    sowingDateLabel: "Fecha de Siembra (Plantación)",
    cultureLabel: "Cultivo",
    culturePlaceholder: "Seleccione un cultivo",
    plannedYieldLabel: "Rendimiento Planificado",
    fieldAreaLabel: "Área del Campo",
    calculateButton: "Calcular",
    calculateAllButton: "Calcular Todo",
    calculateDisabledTooltip: "Complete el cultivo y el rendimiento para todos los análisis",
    step3Title: "Paso 3: Elija el Tipo de Cálculo",
    basicApplicationTitle: "Aplicación de Fondo",
    basicApplicationDesc: "Cálculo de las necesidades de fertilizantes para la aplicación de fondo.",
    fertigationProgramTitle: "Programa de Fertirrigación",
    fertigationProgramDesc: "Un plan semanal detallado para la aplicación de fertilizantes a través del riego por goteo.",
    fullProgramTitle: "Programa Integral",
    fullProgramDesc: "Mostrar tanto la aplicación de fondo como el programa de fertirrigación juntos.",
    resultsTitle: 'Resultados del Cálculo para "{cultureName}"',
    saveReportButton: "Guardar Informe",
    saveToHistory: "Guardar en historial",
    saveToHistorySuccess: "¡Informe guardado en el historial!",
    saveTxtAction: "Guardar como TXT",
    saveJsonAction: "Guardar Informe (JSON)",
    saveAllTxtAction: "Guardar Todo (TXT)",
    saveAllJsonAction: "Guardar Todo (JSON)",
    saveCurrentTxtAction: "Guardar Actual (TXT)",
    recordButton: "Grabar",
    recordedButton: "Grabado",
    saveXlsxButton: "Guardar ({count}) en XLSX",
    continueButton: "Continuar",
    newCalculationButton: "Nuevo Cálculo",
    // Basic Application
    basicApplicationHeader: "Aplicación de Fondo",
    basicApplicationNotNeeded: "No se requiere aplicación de fondo según los cálculos.",
    composition: "Composición",
    complexFertilizer: "Fertilizante Complejo de Otoño",
    springFertilizer: "Fertilizante de Arranque (Primavera)",
    addComplexFertilizer: "Añadir fertilizante complejo de otoño",
    addComplexFertilizerDesc: "Introduzca la composición para calcular automáticamente la dosis y ajustar las necesidades.",
    complexFertilizerHeader: "Composición y Dosis del Fertilizante Complejo",
    nitroammophoskaButton: "Nitroammofoska",
    chickenManureButton: "Estiércol de Pollo",
    complexFertilizerRateLabel: "Dosis de Aplicación (calculada)",
    totalForArea: "Total para el área:",
    remainingNeed: "Necesidad Restante",
    need: "Necesidad",
    fertilizerLabel: "Fertilizante",
    amendmentLabel: "Enmienda",
    applicationRate: "Dosis de Aplicación (peso fís.)",
    totalLabel: "Total:",
    chooseFertilizer: "elija fertilizante",
    chooseAmendment: "elija enmienda",
    element: "Elemento",
    amendmentTooltip: "Para un pH del suelo de 6.8 o inferior, se recomienda aplicar enmiendas (cal, defecado) para desacidificar y mejorar la disponibilidad de nutrientes para las plantas.",
    // Fertigation
    fertigationProgramHeader: "Programa de Fertirrigación",
    fertigationNotNeeded: "No se requiere fertirrigación según los cálculos.",
    noScheduleWarningTitle: "Advertencia",
    noScheduleWarningText: 'No se encontró un programa de fertirrigación típico para el cultivo "{culture}".',
    addSpringFertilizer: "Calcular fertilizante de arranque complejo",
    addSpringFertilizerDesc: "Introduzca la composición para calcular la dosis del fertilizante de primavera.",
    springFertilizerHeader: "Composición y Dosis del Fertilizante de Arranque",
    yaraMilaButton: "YaraMila CROPCARE",
    rosafertButton: "ROSAFERT 12-12-17",
    diammophoskaButton: "Diammofoska 9-25-25",
    autoCalculateButton: "Autocalcular",
    autoCalculateTooltip: "Haga clic para volver a la dosis calculada automáticamente según la composición del fertilizante y las necesidades del cultivo.",
    springFertilizerRateTooltip: "La dosis se calcula automáticamente para cubrir el 50% de la necesidad de potasio (K₂O) en las etapas iniciales de crecimiento, lo cual es clave para el desarrollo del sistema radicular y la resiliencia general de la planta. Puede ajustar este valor manualmente.",
    nitrogenFertilizerChoiceHeader: "Elección de Fertilizante Nitrogenado para Fertirrigación",
    nitrogenFertilizerLabel: "Fertilizante Nitrogenado",
    ammoniumNitrate: "Nitrato de Amonio",
    urea: "Urea",
    weeklyPlanHeader: "Plan Semanal de Aplicación de Fertilizantes (peso físico, kg/ha)",
    compatibilityTableButton: "Tabla de Compatibilidad",
    totalForSeasonHeader: "Cantidad Total por Temporada",
    // Chart
    chartYAxisLabel: "kg/ha",
    chartXAxisLabel: "Semana / Rango de Fechas",
    chartWeekLabel: "Semana",
    // Reports List
    noReportsTitle: "No Hay Informes Guardados",
    noReportsDesc: "Cree su primer cálculo o cargue un informe existente.",
    startNewCalculation: "Iniciar Nuevo Cálculo",
    loadReport: "Cargar Informe",
    myReports: "Mis Informes",
    loadButton: "Cargar",
    yieldLabel: "Rendimento",
    areaLabel: "Área",
    savedOn: "Guardado",
    viewButton: "Ver",
    deleteButton: "Eliminar informe",
    deleteConfirm: "¿Está seguro de que desea eliminar este informe?",
    reportLoadSuccessMultiple: "{count} nuevo(s) informe(s) cargado(s). Se omitieron {skipped} porque ya existen.",
    reportLoadSuccessOne: "Informe cargado con éxito.",
    reportLoadSkippedAll: "Todos los informes de este archivo ya existen en la lista.",
    reportLoadError: "Error al cargar el informe. El archivo puede estar dañado o en el formato incorrecto.",
    reportLoadFileError: "Error al leer el archivo.",
    // Report Detail
    reportFor: 'Informe para "{culture}"',
    backToList: "Volver a la Lista de Informes",
    savedAt: "Guardado",
    inputData: "Datos de Entrada",
    soilAnalysis: "Análisis de Suelo",
    // Compatibility Modal
    compatibilityModalTitle: "Tabla de Compatibilidad de Fertilizantes",
    compatibilityModalClose: "Cerrar modal",
    compatibilityModalDesc: "La tabla muestra la posibilidad de mezclar fertilizantes en una solución de tanque. Los fertilizantes incompatibles deben aplicarse por separado para evitar la precipitación y la obstrucción del sistema de riego por goteo.",
    closeButton: "Entendido",
    // Error
    calculationError: "Error de Cálculo",
    calculationErrorDesc: "No se pudo realizar el cálculo para este análisis. Por favor, verifique los datos de entrada.",
    // Group analysis
    analysisTab: "Análisis #{index}",
    addAnalysis: "Añadir",
    addAnalysisTooltip: "Añadir nuevo análisis",
    // Save report
    reportSaveError: "No hay datos para guardar el informe.",
    // Save Confirmation Modal
    saveModalTitle: "Confirmar Guardado",
    saveModalDesc: "Seleccione los análisis que desea incluir en el archivo XLSX.",
    saveModalSelectAll: "Seleccionar Todo",
    saveModalDeselectAll: "Deseleccionar Todo",
    saveModalConfirmButton: "Guardar Seleccionados ({count})",
    saveModalCancelButton: "Cancelar",
    // XLSX Export
    summarySheet: "Resumen y Adquisiciones",
    detailsSheet: "Detalles del Cálculo",
    preSeasonFertilizersHeader: "Fertilizantes de Pretemporada (Base, Arranque)",
    fertilizerNameHeader: "Nombre del Fertilizante",
    totalNeededKgHeader: "Total Necesario, kg",
    monthlyNeedsHeader: "Necesidades Mensuales de Fertirrigación, kg",
    basicApplicationSection: "1. Aplicación de Fondo",
    fertigationProgramSection: "2. Programa de Fertirrigación",
    fertilizerTypeHeader: "Tipo de Fertilizante",
    fertilizerNameCompositionHeader: "Nombre / Composición",
    // Added week key to fix reportGenerator.ts error
    week: "Semana",
    dateRangeHeader: "Rango de Fechas",
    month_0: "Enero", month_1: "Febrero", month_2: "Marzo", month_3: "Abril",
    month_4: "Mayo", month_5: "Junio", month_6: "Julio", month_7: "Agosto",
    month_8: "Septiembre", month_9: "Octubre", month_10: "Noviembre", month_11: "Diciembre",
  },
} as const;

export type TranslationKey = keyof typeof translations['en'];

export function t(key: TranslationKey, lang: Language, params?: Record<string, string | number>): string {
  const dict = translations[lang] || translations['en'];
  let text = (dict as any)[key] || (translations['en'] as any)[key] || key;
  
  if (params) {
    Object.entries(params).forEach(([k, v]) => {
      text = text.replace(`{${k}}`, String(v));
    });
  }
  
  return text;
}
